{% extends "pydata_sphinx_theme/layout.html" %}

{% block fonts %}
  <!-- add `style` or `link` tags with your CSS `@font-face` declarations here -->
  <!-- ... and optionally preload the `woff2` for snappier page loads -->
  <link rel="preload" href="{{ pathto('_static/et-book/et-book-bold-line-figures/et-book-bold-line-figures.woff', 1) }}" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="{{ pathto('_static/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.woff', 1) }}" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="{{ pathto('_static/et-book/et-book-roman-line-figures/et-book-roman-line-figures.woff', 1) }}" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="{{ pathto('_static/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.woff', 1) }}" as="font" type="font/woff" crossorigin>
  <link rel="preload" href="{{ pathto('_static/et-book/et-book-semi-bold-old-style-figures/et-book-semi-bold-old-style-figures.woff', 1) }}" as="font" type="font/woff" crossorigin>
{% endblock %}

{%- block extrahead %}
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="{{ language }}">
    {% for favicon in theme_favicons %}
      {% if favicon.href[:4] == 'http'%}
      <link rel="{{ favicon.rel }}" sizes="{{ favicon.sizes }}" href="{{ favicon.href }}">
      {% else %}
      <link rel="{{ favicon.rel }}" sizes="{{ favicon.sizes }}" href="{{ pathto('_static/' + favicon.href, 1) }}">
      {% endif %}
    {% endfor %}

    <!-- Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id={{theme_google_analytics_id}}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', '{{theme_google_analytics_id}}');
    </script>

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@patrickmineault" />
    <meta name="twitter:title" content="The Good Research Code Handbook" />
    <meta name="twitter:description" content="This handbook is for grad students, postdocs and PIs who do a lot of programming as part of their research. It will teach you, in a practical manner, how to organize your code so that it is easy to understand and works reliably." />
    <meta name="twitter:image" content="https://goodresearch.dev/_images/unicorn.png" />

{%- endblock %}

{% import "static/sbt-webpack-macros.html" as _sbtwebpack with context %}
{# ref: https://github.com/pydata/pydata-sphinx-theme/blob/master/src/pydata_sphinx_theme/theme/pydata_sphinx_theme/layout.html #}

{%- block css %}
    {{ super() }}
    {{ _sbtwebpack.head_pre_bootstrap() }}
{%- endblock %}

{% set is_single_page = (theme_single_page == True) or (theme_single_page == "True") %}


{% block content %}
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint">
    {%- include "sections/announcement.html" -%}
</div>
<div class="header header-item noprint">
    {%- include "sections/header.html" -%}
</div>
{{ super() }}
{% endblock %}

<!-- Docs TOC is "d-none d-xl-block col-xl-2" -->
{% block docs_sidebar %}
<!-- Sidebar -->
<div class="pl-4 pr-3 bd-sidebar site-navigation noprint {% if is_single_page %} single-page{% endif %}" id="site-navigation">
    {% if not is_single_page %}
        {%- include "sections/sidebar.html" -%}
    {%- endif %}
</div>
{% endblock %}

{% block docs_main %}
<!-- Main content -->
<div class="col py-0 content-container">
    {% block docs_body %}
    <div class="header-article row sticky-top noprint">
        {% include "sections/header-article.html" %}
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>{{ pagetitle }}</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        {% set page_toc = generate_toc_html() %}
                        {%- if page_toc | length >= 1 %}
                        <div>
                            <h2> {{ translate(theme_toc_title) }} </h2>
                        </div>
                        <nav aria-label="Page">
                            {{ page_toc }}
                        </nav>
                        {%- endif %}
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                {{ super() }}
            </main>
            <footer class="footer-article noprint">
                {% include "sections/footer-article.html" %}
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer">
            {%- include "sections/footer-content.html" %}
        </footer>
    </div>
    {% endblock %}
</div>
{% endblock %}

{%- block scripts_end %}
  {{ super() }}
  {{ _sbtwebpack.body_post() }}
{%- endblock %}

{% block docs_toc %}
{% endblock %}

{% block docs_navbar %}
{%- endblock %}

{%- block footer %}
{%- endblock %}
